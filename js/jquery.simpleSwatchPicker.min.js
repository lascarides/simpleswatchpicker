//////////////////////////////////////////////
//                                          //
// Simple Swatch Picker                     //
// A JQuery color picker plugin             //
//                                          //
//////////////////////////////////////////////
//                                          //
// by Michael Lascarides                    //
// http://lascarid.es/                      //
// v0.1 October 2012                        //
//                                          //
// Released under an MIT License.           //
// See attached LICENSE.TXT for details.    //
//                                          //
//////////////////////////////////////////////
(function(a){a.fn.simpleSwatchPicker=function(b){var c=a.extend({palette:"default",rows:6,cols:12,saturation:[80,100,"rows"],hue:[0,300,"cols"],value:[30,98,"rows"],selectMessage:"click to choose color",swatchContainer:""},b);var d={"default":{},moody:{saturation:[80,5,"rows"],hue:[0,300,"cols"],value:[40,70,"rows"]},primary:{saturation:[100,100,"rows"],hue:[0,300,"cols"],value:[50,98,"rows"]},pastel:{saturation:[50,90,"rows"],hue:[0,300,"cols"],value:[70,98,"rows"]}};a.extend(c,d[c["palette"]]);return this.each(function(){function m(a,b,d){var e=c[a][2];var f=e=="cols"?b:d;var g=(c[a][1]-c[a][0])/c[e];return parseInt(f*g+c[a][0])}function n(a){a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return a&&a.length===4?"#"+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):""}var b=this;var d;if(c["swatchContainer"]==""){d=a('<div class="simpleSwatchPicker"></div>').insertAfter(this)}else{d=a(c["swatchContainer"])}d.append('<div class="sspSelectedChip"></div><div class="sspPalette"></div>');var e=d.find(".sspSelectedChip").first();var f=d.find(".sspPalette").first();for(var g=0;g<c["rows"];g++){for(var h=0;h<c["cols"];h++){var i=m("hue",h,g);var j=m("saturation",h,g);var k=m("value",h,g);f.append('<div class="sspChip" style="background-color: hsl('+i+","+j+"%, "+k+'%);"></div>')}}var l=d.find(".sspChip").first();f.css({width:l.outerWidth()*c["cols"]+"px",height:l.outerHeight()*c["rows"]+"px",left:e.position().left+e.outerWidth()});if(a(b).val()==""){e.append("<span>"+c["selectMessage"]+"</span>")}else{e.css({"background-color":a(b).val()}).html("")}e.click(function(){f.slideToggle()});d.find(".sspChip").click(function(){var c=n(a(this).css("background-color"));e.css({"background-color":c}).html("");a(b).val(c);f.slideUp()})})}})(jQuery)
