//////////////////////////////////////////////
//                                          //
// Simple Swatch Picker                     //
// A JQuery color picker plugin             //
//                                          //
//////////////////////////////////////////////
//                                          //
// by Michael Lascarides                    //
// http://lascarid.es/                      //
// v0.1 October 2012                        //
//                                          //
// Released under an MIT License.           //
// See attached LICENSE.TXT for details.    //
//                                          //
//////////////////////////////////////////////

(function(a){a.fn.simpleSwatchPicker=function(b){var c=a.extend({palette:"default",rows:6,cols:12,saturation:[80,100],hue:[0,300],value:[30,98],swatchContainer:""},b);var d=this;return this.each(function(){function m(a,b,d){var e=(c[a][1]-c[a][0])/c[b];return parseInt(d*e+c[a][0])}function n(a){a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return a&&a.length===4?"#"+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):""}var b;if(c["swatchContainer"]==""){b=a('<div class="simpleSwatchPicker"></div>').insertAfter(this)}else{b=a(c["swatchContainer"])}b.append('<div class="sspSelectedChip"></div><div class="sspPalette"></div>');var e=b.find(".sspSelectedChip").first();var f=b.find(".sspPalette").first();for(var g=0;g<c["rows"];g++){for(var h=0;h<c["cols"];h++){var i=m("hue","cols",h);var j=m("saturation","rows",g);var k=m("value","rows",g);f.append('<div class="sspChip" style="background-color: hsl('+i+","+j+"%, "+k+'%);"></div>')}}var l=b.find(".sspChip").first();f.css({width:l.outerWidth()*c["cols"]+"px",height:l.outerHeight()*c["rows"]+"px",left:e.position().left+e.outerWidth()});e.click(function(){f.slideToggle()});b.find(".sspChip").click(function(){var b=n(a(this).css("background-color"));e.css({"background-color":b});a(d).val(b);f.slideUp()})})}})(jQuery)